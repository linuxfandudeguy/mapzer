<!doctypehtml><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Mapzer - Weather Map</title><link href=./leaflet.css rel=stylesheet><link href=https://fonts.googleapis.com rel=preconnect><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"rel=stylesheet><link href=icon.png rel=icon><script src=./tw.js></script><style>body{font-family:Roboto,sans-serif}#map{height:100vh}.weather-info{background-color:#fff;padding:10px;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.1);margin-top:10px;display:none}</style><div class="flex items-center bg-white bottom-10 fixed h-10 left-5 overflow-hidden rounded-full shadow-lg w-64 z-[10000]"><input class="h-full border-none flex-grow focus:outline-none px-4 text-sm"id=search-bar placeholder="Enter city name"> <button class="flex items-center bg-blue-500 h-full hover:bg-blue-600 justify-center text-white w-10"id=path-button onclick=searchWeather()><svg class="h-4 w-4"fill=none stroke=currentColor viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M21 21l-4.35-4.35m-1.45 2.36a8.5 8.5 0 111.414-1.414L21 21z"stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg></button></div><div id=map></div><div class=weather-info id=weather-info><h3 class="text-center font-semibold"id=weather-location></h3><p class=text-center id=weather-today><p class=text-center id=weather-forecast></div><script src=./leaflet.js></script><script>let map,marker;function initMap(t,e){map=L.map("map").setView([t,e],13),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap contributors"}).addTo(map),marker=L.marker([t,e]).addTo(map).bindPopup("You are here").openPopup()}function searchWeather(){const t=document.getElementById("search-bar").value.trim();t?getCoordinates(t).then((e=>{showWeather(e.lat,e.lon,t)})).catch((()=>alert("Location not found."))):alert("Please enter a region name.")}async function getCoordinates(t){const e=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}`,o=await fetch(e),a=await o.json();if(a.length>0)return{lat:parseFloat(a[0].lat),lon:parseFloat(a[0].lon)};throw new Error("Location not found")}function showWeather(t,e,o){const a=`https://weldcors.vercel.app/?url=https://weather-api-one-neon.vercel.app/weather/${o.toLowerCase()}?unit=c`;fetch(a).then((t=>t.json())).then((a=>{const n=a[0],r=`${n.low}°C - ${n.high}°C`,i=n.skytextday;document.getElementById("weather-location").textContent=`Weather in ${o.charAt(0).toUpperCase()+o.slice(1)}`,document.getElementById("weather-today").textContent=`Today: ${n.day} - ${i}`,document.getElementById("weather-forecast").textContent=`High/Low: ${r}`,document.getElementById("weather-info").style.display="block",map.setView([t,e],13),marker.setLatLng([t,e]).bindPopup(`${i}, ${r}`).openPopup()})).catch((()=>alert("Failed to fetch weather data.")))}navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{initMap(t.coords.latitude,t.coords.longitude)}),(()=>initMap(51.5074,-.1278))):initMap(51.5074,-.1278);</script>
